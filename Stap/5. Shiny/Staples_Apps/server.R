# --------------------------------------------------------------------------------------------------------------
# --------------------------------------------------------------------------------------------------------------
#                                                   Shiny
# --------------------------------------------------------------------------------------------------------------
# --------------------------------------------------------------------------------------------------------------
# --------------------------------------------------------------------------------------------------------------
#                                     Staples Price Elasticity : server.R : reactive
# --------------------------------------------------------------------------------------------------------------
# --------------------------------------------------------------------------------------------------------------
# 
# library(shiny)
# library(psych)
# 
# shinyServer(
#   function(input,output){
#     
#     output$describe <- renderPrint({
#       data = data.frame(subset(Staples_IP,Loyalty_Cat==input$Loyalty_Cat))
#       describe(data[,sapply(data,is.numeric)])
#     })
#     output$cor <- renderPrint({
#       data = data.frame(subset(Staples_IP,Loyalty_Cat==input$Loyalty_Cat))
#       cor(data[,c("Conversion","Price_Comp")])
#       
#     })
#   }
# )

# --------------------------------------------------------------------------------------------------------------
# --------------------------------------------------------------------------------------------------------------
#                                       Weekly : server.R : reactive
# --------------------------------------------------------------------------------------------------------------
# --------------------------------------------------------------------------------------------------------------

# shinyServer(
#   function(input,output){
#     
#     output$describe <- renderPrint({
#       data = data.frame(subset(Staples_Aggr_Weekly,Loyalty_Cat==input$Loyalty_Cat))
#       describe(data[,sapply(data,is.numeric)])
#     })
#     output$cor <- renderPrint({
#       data = data.frame(subset(Staples_Aggr_Weekly,Loyalty_Cat==input$Loyalty_Cat))
#       cor(data[,c("Conversion","Price_Comp")])
#       
#     })
#   }
# )
# 
# --------------------------------------------------------------------------------------------------------------
# --------------------------------------------------------------------------------------------------------------
#                                       Monthly : server.R : reactive
# --------------------------------------------------------------------------------------------------------------
# --------------------------------------------------------------------------------------------------------------

library(psych)
setwd("C:/Yashwanth/Staples PE/5. Shiny/Staples_Apps/")
Staples_Aggr_Monthly <- read.csv("data/Staples_Aggr_Monthly.csv",header = TRUE, sep = ",", quote = "\"", dec = "." ,fill=TRUE, comment.char="", 
                                 as.is=TRUE)

shinyServer(
  function(input,output){
    
    output$describe <- renderPrint({
      data = data.frame(subset(Staples_Aggr_Monthly,Loyalty_Cat==input$Loyalty_Cat & Product_ID==input$Product_ID))
      describe(data[,sapply(data,is.numeric)])
    })
    output$cor <- renderPrint({
      data = data.frame(subset(Staples_Aggr_Monthly,Loyalty_Cat==input$Loyalty_Cat & Product_ID==input$Product_ID))
      cor(data[,c("Conversion","Price_Comp")])
      
    })
  }
)

# --------------------------------------------------------------------------------------------------------------
# --------------------------------------------------------------------------------------------------------------
# --------------- END ---------------------------- Shiny ------------------------- END -------------------------
# --------------------------------------------------------------------------------------------------------------
# --------------------------------------------------------------------------------------------------------------
